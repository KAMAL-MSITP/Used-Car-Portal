<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My List - Used Car Portal</title>   
    <link rel="stylesheet" href="styles.css">  
</head>
<body>
    <header>
        <!-- Header content here -->
    </header>

    <main>
        <h1>My List</h1>
        <ul id="myList">
            <!-- My List items will be dynamically added here -->
        </ul>
    </main>

    <footer>
        <!-- Footer content here -->
    </footer>

    <script>
        // Function to load My List from localStorage
        function loadMyList() {
            const myList = JSON.parse(localStorage.getItem('myList')) || [];
            const myListContainer = document.getElementById('myList');

            myList.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                myListContainer.appendChild(li);
            });
        }

        // Load My List when the page loads
        window.addEventListener('DOMContentLoaded', loadMyList);

        // Function to handle adding/removing items from My List
        function toggleItemInList(event) {
            const listItem = event.target;
            const itemName = listItem.textContent;

            if (listItem.classList.contains('added')) {
                // Remove item from My List
                listItem.classList.remove('added');
                // Remove item from localStorage
                removeItemFromMyList(itemName);
            } else {
                // Add item to My List
                listItem.classList.add('added');
                // Add item to localStorage
                addItemToMyList(itemName);
            }
        }

        // Function to add item to My List in localStorage
        function addItemToMyList(item) {
            let myList = JSON.parse(localStorage.getItem('myList')) || [];
            myList.push(item);
            localStorage.setItem('myList', JSON.stringify(myList));
        }

        // Function to remove item from My List in localStorage
        function removeItemFromMyList(item) {
            let myList = JSON.parse(localStorage.getItem('myList')) || [];
            myList = myList.filter(i => i !== item);
            localStorage.setItem('myList', JSON.stringify(myList));
        }

        // Add event listener to dynamically added list items
        document.getElementById('myList').addEventListener('click', toggleItemInList);
    </script>
</body>
</html>
